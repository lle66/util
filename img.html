<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div>
    <img height="100" width="100" src="./images/eg.png" class="pic"/>
  </div>
  <div id="outerdiv" style="position:fixed;top:0;left:0;background:rgba(0,0,0,0.7);z-index:2;width:100%;height:100%;display:none;">
  <div id="innerdiv" style="position:absolute;">
    <img id="bigimg" style="border:5px solid #fff;" src="" />
  </div>
  </div>
</body>
<script src="./js/jquery-3.4.1.mini.js"></script>
<script type="text/javascript">
  
 $(function(){ 
    $(".pic").click(function(){ 
      var _this = $(this);//将当前的pimg元素作为_this传入函数 
      imgShow("#outerdiv", "#innerdiv", "#bigimg", _this); 
    }); 
  }); 
  function imgShow(outerdiv, innerdiv, bigimg, _this){ 
    var src = _this.attr("src");
    $(bigimg).attr("src", src);
      /*获取当前点击图片的真实大小，并显示弹出层及大图*/
     // $('<img/>')等同于$(new Image()) 作用：创建一个新的 img 元素，包装为 JQuery 对象
    $("<img/>").attr("src", src).on('load',function(){ 
      $(bigimg).css("width",'800px');//以最终的宽度对图片缩放 
      $(innerdiv).css({"top":'50%', "left":'50%','transform':'translate(-50%,-50%)'});
      $(outerdiv).fadeIn("fast");//淡入显示#outerdiv及.pimg 
    }); 
    $(outerdiv).click(function(){//再次点击淡出消失弹出层 
      $(this).fadeOut("fast"); 
    }); 
  }
  
</script>
</html>